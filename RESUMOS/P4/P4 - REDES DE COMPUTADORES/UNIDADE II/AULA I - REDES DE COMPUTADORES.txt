AULA I - REDES DE COMPUTADORES - UNIDADE II

- HTTP É SEM ESTADO
NÃO MANTÉM NENHUMA INFORMAÇÃO SOBRE PESQUISAS ANTERIORES
PROTOCOLOS QUE MANTÉM ESTADO SÃO COMPLEXOS

- MANTENDO O ESTADO DO USUÁRIO/ SERVIDOR
SITES E NAVEGADORES DO CLIENTE UTILIZAM COOKIES
MANTER ESTADO DE PERMISSÕES 

- COMPONENTES PARA O FUNCIONAMENTO DO COOKIES
1. LINHA DE CABEÇALHO NA MENSAGEM DE RESPOSTA - PERMISSÃO DO USUÁRIO
2. LINHA DE CABEÇALHO NA PRÓXIMA MENSAGEM DE SOLICITAÇÃO - CRIAÇÃO DO ID
3. ARQUIVO DE COOKIE MANTIDO NO HOSPEDEIRO DO USUÁRIO - SOLICITA O ID
4. BANCO DE DADOS BANCK-END NO SITE WEB - VAI ATRÁS DO ID SOLICITADO

- COOKIES
CLIENTE -> ACEITA UM COOKIE DO SERVIDOR 
SERVIDOR -> CRIA UM ID PARA O USUÁRIO
CLIENTE -> MENSAGEM DE REQUISIÇÃO
BANCO DE DADOS -> PROCURA O ID 
SERVIDOR -> MENSAGEM DE RESPOSTA

- PARA QUE COOKIES PODEM SER USADOS
AUTORIZAÇÃO
CARRINHOS DE COMPRAS 
RECOMENDAÇÕES
ESTADO DE SESSÃO DE USUÁRIO

- COMO MANTER O ESTADO
MANTEM O ESTADO PELAS VÁRIAS TRANSAÇÕES ( PERMISSÕES )
OS COOKIES POR MENSAGEM CARREGAM O ESTADO DO HTTP

- PRIVACIDADE
COOKIES PERMITEM QUE OS SITES APRENDAM MUITO SOBRE VOCÊ

- CACHES WEB
SATISFAZER AS SOLICITAÇÕES DO CLIENTE SEM ENVOLVER O SERVIDOR DE ORIGEM
USUÁRIO CONFIGURA O NAVEGADOR PARA APONTAR PARA UM CACHE WEB ( LOCAL )
NAVEGADOR ENVIA TODAS AS SOLICITAÇÕES WEB PARA O CACHE

SE O OBJETO ESTIVER NO CACHE -> O CACHE RETORNA O OBJETO AO CLIENTE
SENÃO -> CACHE SOLICITA O OBJETO DO SERVIDOR DE ORIGEM, ARMAZENA O OBJETO RECEBIDO E RETORNA O OBJETO AO CLIENTE

O CACHE WEB ATUA COMO AMBOS CLIENTE E SERVIDOR
SERVIDOR PARA CLIENTE SOLICITANTE ORIGINAL
CLIENTE PARA SERVIDOR DE ORIGEM
SERVIDOR DIZ AO CACHE SOBRE OBJETOS COM PERMISSÃO DE CACHE NO CABEÇALHO DE RESPOSTA

- POR QUE CACHE WEB
REDUZIR O TEMPO DE RESPOSTA
REDUZIR O TRÁFEGO NO ENLACE DE ACESSO DE UMA INSTITUIÇÃO
INERNET É DENSA COM CACHES

- CACHE DE NAVEGADOR - GET CONDICIONAL
NÃO ENVIAR OBJETO SE CACHE DO NAVEGADOR TIVER VERSÃO ATUALIZADA

CLIENTE -> ESPECIFICA A DATA DA CÓPIA ARMAZENADA NO CACHE DO NAVEGADOR NA SOLICITAÇÃO HTTP
SERVIDOR -> REPOSTA NÃO CONTÉM OBJETOS SE A CÓPIA EM CACHE ESTIVER ATUALIZADA

- EMAIL
COMPONENTES PRINCIPAIS 
1.  AGENTES DE USUÁRIO
2. SERVIDORES DE EMAIL
3. SMTP

- AGENTE DE USUÁRIO
LEITOR DE EMAIL - COMPOR, EDITAR E LER MENSAGENS DE EMAIL
MENSAGENS ENTRANDO E SAINDO ARMAZENADAS NO SERVIDOR

- SERVIDORES DE EMAIL
CAIXA DE EMAIL -> CONTÉM MENSAGENS RECEBIDAS PARA O USUÁRIO -> ENTRADA
FILA DE MENSAGENS -> MENSAGENS DE EMAIL DE SAÍDA A SEREM ENVIADAS -> SAÍDA

- PROTOCOLO SMTP 
ENTRE SERVIDORES DE EMAIL PARA ENVIAR MENSAGENS DE EMAIL
CLIENTE -> SERVIDOR DE EMAIL ENVIANDO
SERVIDOR -> SERVIDOR DE EMAIL RECEBENDO

- PROTOCOLO DE TRANSPORTE
USA O TCP PARA TRANSFERIR DE MANEIRA CONFIÁVEL MENSAGEM DE EMAIL DO CLIENTE PARA O SERVIDOR
TRANSFERÊNCIA DIRETA DO ENVIO DO SERVIDOR "CLIENTE" PARA  SERVIDOR "SERVIDOR" RECEPTOR

- FASES DAS TRANSFERÊNCIA
1. SAUDAÇÃO SMTP
2. TRANSFERÊNCIA DE MENSAGENS SMTP
3. FECHAMENTO DO SMTP

- CENÁRIO
AGENTE DE USÁRIO MANDA UMA MENSAGEM
A MENSAGEM FICA NO SERVIDOR DO USUÁRIO
É USADO O TCP PRA CAMINHAR A MENSAGEM PRO SERVIDOR DO DESTINÁRIO
A MENSAGEM CHEGA NO SERVIDOR DO DESTINÁRIO
É USADO O PROTOCOLO SMTP
A MENSAGEM CHEGA AO DESTINÁRIO

- IMPORTANTE
HTTP -> CLIENTE PUXA
SMTP -> CLIENTE EMPURRA

HTTP -> CADA OBJETO ENCAPSULADO EM SUA PRÓPRIA MENSAGEM DE RESPOSTA
SMTP -> MÚLTIPLOS OBJETOS ENVIADOS EM MENSAGEM MULTIPARTE

SMTP -> USA CONEXÕES PERSISTENTES, REQUER CABEÇALHOS E TERMINA O FIM DA MENSAGEM

- RECUPERANDO EMAILS
SMTP -> ENTREGA/ ARMAZENA AS MENSAGENS DE EMAIL PARA O SERVIDOR DO DESTINÁRIO
IMAP -> FORNECE A RECUPERAÇÃO, EXCLUSÃO E PASTAS DE MENSAGEM ARMAZENADAS NO SERVIDOR
HTTP -> FORNECE INTERFACE BASEADA NA WEB EM CIMA DE SMTP ( PARA ENVIAR ), IMAP ( OU POP ) PARA RECUPERAR MENSAGENS DE EMAIL

- ENDEREÇO IP 
USADO PARA ENDEREÇAR DATAGRAMAS
"NOME" - USADO POR HUMANOS

- DNS 
BANCO DE DADOS DISTRIBUIDOS -> IMPLEMENTANDO UMA HIERARQUIA DE MUITOS SERVIDORES DE NOME
PROTOCOLO DE CAMADA DE APLICAÇÃO -> HOSPEDEIROS E SERVIDORES DNS SE COMUNICAM PARA RESOLVER NOMES - TRADUÇÃO

- SERVIÇOS DE DNS 
TRADUÇÃO DE NOME DE HOSPEDEIRO PARA IP
APELIDOS DE HOSPEDEIRO
NOMES CANÔNICOS
DISTRIBUIÇÃO DE CARGA - MUITOS ENDEREÇOS IP CORRESPONDEM A UM NOME

- POR QUE NÃO CENTRALIZAR O DNS
ÚNICO PONTO DE FALHA
VOLUME DE TRÁFEGO
BANCO DE DADOS CENTRALIZADO DISTANTE
MANUTENÇÃO

- HIERARQUIA DO DNS
RAIZ
DOMÍNIO DE NÍVEL MAIS ALTO - TLD 
COM AUTORIDADE

- EXEMPLO 
CLIENTE CONSULTA SERVIDOR RAIZ PARA ENCONTRAR SERVIDOS DNS DE .COM
CLIENTE CONSULTA SERVIDOR DE DNS DE .COM PARA OBTER O SERVIDOR DNS DE AMAZON.COM
CLIENTE CONSULTA SERVIDOR DE DNS DE AMAZON.COM PARA OBTER IP DE WWW.AMAZON.COM

- RAIZ
CONTATO DE ÚLTIMO RECURSO POR SERVIDORES DE NOME QUE NÃO PODEM RESOLVER UM NOME

- DOMÍNIO DE NÍVEL MAIS ALTO
RESPONSÁVEIS POR .COM, .ORG, .NET, .EDU, . AERO... E TODOS OS DOMÍNIOS DE PAÍSES DE NÍVEL MAIS ALTO COMO ; .CN, .UK, .BR...

- COM AUTORIDADE
SERVIDORES DNS DA PRÓPRIA ORGANIZAÇÃO, FORNECENDO MAPEAMENTO DE NOME DE HOSPEDEIRO PARA IP COM AUTORIDADE PARA OS HOSPEDEIROS NOMEADOS DA ORGANIZAÇÃO

- SERVIDORES DNS LOCAIS
QUANDO O HOSPEDEIRO FAZ UMA CONSULTA DNS, ELA É ENVIADA PARA O SEU SERVIDOR DNS LOCAL ( QUE RETORNA O CACHE LOCAL DE PARES DE TRADUÇÃO )
NÃO PERTENCE A HIERARQUIA

- CONSULTA ITERATIVA
ACESSA O SERVIDOR LOCAL, SE NÃO TIVER A INFORMAÇÃO, VAI PARA O SERVIDOR RAIZ, PEGA O ENDEREÇO PARA O SERVIDOR TLD QUE SERÁ ENVIADO O SERVIDOR COM AUTORIDADE QUE JOGA PARA O LOCAL E CHEGA NO HOSPEDEIRO

- CONSULTA RECURSIVA
É OBRIGADO A PASSAR POR TODOS OS SERVIDORES INDO E VOLTANDO

- CACHE DE INFORMAÇÕES DE DNS
ELE ARMAZENA ESSE MAPEAMENTO EM UM CACHE E IMEDIATAMENTE RETORNA O MAPEAMENTO ARMAZENADO QUANDO RECEBE UAM NOVA REQUISIÇÃO

- REGISTROS DNS
BANCO DE DADOS DISTRIBUIDOS ARMAZENANDO REGISTROS DE RECURSOS
FORMATO -> NOME, VALOR, TIPO E TTL ( TEMPO DE VIDA )

TIPO = A 
ENDEREÇO DO IP

TIPO = NOMES
HOSPEDEIRO DE UM SERVIDOR DE NOMES COM AUTRORIDADE PARA ESTE DOMÍNIO

TIPO = CNAME
NPME É UM APELIDO PARA ALGUM NOME CANÔNICOS

TIPO = MX
NOME DE UM SERVIDOR DE SMT DE EMAIL ASSOCIADO A UM NOME

- MENSAGENS DO PROTOCOLO DNS 
MENSAGENS DE REQUISIÇÃO E RESPOSTA DO DNS